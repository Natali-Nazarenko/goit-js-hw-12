{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport default function getImagesByQuery(query) {\n    return axios.get(\"\", {\n        params: {\n            key: '53365397-01e23b351b4d3bf3f9d6eb3f7',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        }\n    }\n    )\n        .then(({ data }) => data)\n};","import SimpleLightbox from 'simplelightbox';\n\nexport const gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n    });\n\nexport function createGallery(hits) {\n    clearGallery();\n    const markup = hits.map(imageTemplate).join('');\n    gallery.insertAdjacentHTML('afterbegin', markup);\n\n    lightbox.refresh();\n}\n\nfunction imageTemplate(img) {\n    return `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${img.largeImageURL }\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${img.webformatURL}\"\n                        alt=\"${img.tags }\"\n                    />\n                </a>\n                <ul class=\"statistic-block\">\n                    <li>\n                        <p>Likes</p><span>${img.likes}</span>\n                    </li>\n                    <li>\n                        <p>Views</p><span>${img.views}</span>\n                    </li>\n                    <li>\n                        <p>Comments </p><span>${img.comments}</span>\n                    </li>\n                    <li>\n                        <p>Downloads</p><span>${img.downloads}</span>\n                    </li>\n                </ul>\n            </li>`\n}\n\nfunction clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    loader.classList.add('hidden');\n}\n\n\n","import iziToast from \"izitoast\";\nimport getImagesByQuery from \"./js/pixabay-api\";\nimport {showLoader, hideLoader, createGallery } from \"./js/render-functions\";\n\n\nconst form = document.querySelector('.form');\n\nconst errorText = {\n    user: {\n        title: 'WARNING!',\n        message: 'You didnâ€™t enter the image name!'\n    },\n    api: {\n        title: 'Sorry,',\n        message: 'there are no images matching your search query. Please try again!'}\n}\n\nfunction validInput({ title, message}) {\n        iziToast.show({\n            title,\n            titleColor: 'red',\n            message,\n            position: 'topCenter',\n            messageColor: 'black',\n            color: 'red',\n    });\n}\n\nform.addEventListener('submit', (ev) => {\n    ev.preventDefault();\n\n    const inputData = new FormData(form);\n    \n    if (inputData.get('search-text').trim() === '') {\n        return validInput(errorText.user);\n    }\n\n    showLoader();\n\n    getImagesByQuery(inputData.get('search-text').trim())\n        .then((data) => {\n            if (data.total === 0) return validInput(errorText.api);\n            createGallery(data.hits);\n        })\n        .catch((error) => {\n            console.log(error.message);\n        })\n        .finally(() =>\n            hideLoader()\n        );\n    \n    ev.target.reset();\n})"],"names":["axios","getImagesByQuery","query","data","gallery","loader","lightbox","SimpleLightbox","createGallery","hits","clearGallery","markup","imageTemplate","img","showLoader","hideLoader","form","errorText","validInput","title","message","iziToast","ev","inputData","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAEV,SAASC,EAAiBC,EAAO,CAC5C,OAAOF,EAAM,IAAI,GAAI,CACjB,OAAQ,CACJ,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACJ,CACA,EACI,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKA,CAAI,CAChC,CCdO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC1C,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAK,EAEE,SAASC,EAAcC,EAAM,CAChCC,IACA,MAAMC,EAASF,EAAK,IAAIG,CAAa,EAAE,KAAK,EAAE,EAC9CR,EAAQ,mBAAmB,aAAcO,CAAM,EAE/CL,EAAS,QAAO,CACpB,CAEA,SAASM,EAAcC,EAAK,CACxB,MAAO;AAAA,gDACqCA,EAAI,aAAe;AAAA;AAAA;AAAA,+BAGpCA,EAAI,YAAY;AAAA,+BAChBA,EAAI,IAAM;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKGA,EAAI,KAAK;AAAA;AAAA;AAAA,4CAGTA,EAAI,KAAK;AAAA;AAAA;AAAA,gDAGLA,EAAI,QAAQ;AAAA;AAAA;AAAA,gDAGZA,EAAI,SAAS;AAAA;AAAA;AAAA,kBAI7D,CAEA,SAASH,GAAe,CACpBN,EAAQ,UAAY,EACxB,CAEO,SAASU,GAAa,CACzBT,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASU,GAAa,CACzBV,EAAO,UAAU,IAAI,QAAQ,CACjC,CClDA,MAAMW,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAY,CACd,KAAM,CACF,MAAO,WACP,QAAS,kCACZ,EACD,IAAK,CACD,MAAO,SACP,QAAS,mEAAmE,CACpF,EAEA,SAASC,EAAW,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAG,CAC/BC,EAAS,KAAK,CACV,MAAAF,EACA,WAAY,MACZ,QAAAC,EACA,SAAU,YACV,aAAc,QACd,MAAO,KACnB,CAAK,CACL,CAEAJ,EAAK,iBAAiB,SAAWM,GAAO,CACpCA,EAAG,eAAc,EAEjB,MAAMC,EAAY,IAAI,SAASP,CAAI,EAEnC,GAAIO,EAAU,IAAI,aAAa,EAAE,KAAI,IAAO,GACxC,OAAOL,EAAWD,EAAU,IAAI,EAGpCH,IAEAb,EAAiBsB,EAAU,IAAI,aAAa,EAAE,KAAI,CAAE,EAC/C,KAAMpB,GAAS,CACZ,GAAIA,EAAK,QAAU,EAAG,OAAOe,EAAWD,EAAU,GAAG,EACrDT,EAAcL,EAAK,IAAI,CACnC,CAAS,EACA,MAAOqB,GAAU,CACd,QAAQ,IAAIA,EAAM,OAAO,CACrC,CAAS,EACA,QAAQ,IACLT,EAAY,CACxB,EAEIO,EAAG,OAAO,OACd,CAAC"}